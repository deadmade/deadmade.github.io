{{- $pages := where .Site.RegularPages "Type" "in" .Site.Params.mainSections -}}
{{- $notHidden := where .Site.RegularPages "Params.hidden" "!=" true -}}
{{- $filtered := ($pages | intersect $notHidden) -}}
{{- $result := slice -}}
{{- range $filtered -}}
    {{- $data := dict "title" .Title "date" .Date "permalink" .Permalink "summary" .Summary "content" .Plain -}}
    {{- $result = $result | append $data -}}
{{- end -}}
{{- $result | jsonify -}}
